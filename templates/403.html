<!-- templates/403.html -->
{% extends "main/layout.html" %}

{% block title %}Доступ запрещен (403) - Аренда квартир{% endblock %}

{% block page_title %}Доступ запрещен{% endblock %}

{% block page_subtitle %}У вас недостаточно прав для просмотра этой страницы{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
            <!-- Иллюстрация -->
            <div class="error-illustration mb-5">
                <div class="error-icon">
                    <i class="fas fa-lock fa-5x text-danger mb-4"></i>
                </div>
                <h1 class="display-1 fw-bold text-danger mb-3">403</h1>
            </div>

            <!-- Сообщение об ошибке -->
            <div class="error-content mb-5">
                <h2 class="h3 mb-3">Доступ запрещен</h2>
                <p class="lead text-muted mb-4">
                    У вас нет необходимых прав для доступа к этой странице. 
                    Возможно, вам нужно войти в систему или у вас недостаточно привилегий.
                </p>

                <!-- Возможные причины -->
                <div class="reasons mb-5">
                    <h4 class="h5 mb-3">Возможные причины:</h4>
                    <div class="row g-3 text-start">
                        <div class="col-md-6">
                            <div class="reason-item d-flex align-items-start p-3 border rounded">
                                <i class="fas fa-user-times text-danger me-3 mt-1"></i>
                                <div>
                                    <h6>Не авторизованы</h6>
                                    <p class="small text-muted mb-0">Вы не вошли в систему</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="reason-item d-flex align-items-start p-3 border rounded">
                                <i class="fas fa-shield-alt text-warning me-3 mt-1"></i>
                                <div>
                                    <h6>Недостаточно прав</h6>
                                    <p class="small text-muted mb-0">Требуются особые привилегии</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="reason-item d-flex align-items-start p-3 border rounded">
                                <i class="fas fa-ban text-info me-3 mt-1"></i>
                                <div>
                                    <h6>Ограниченный доступ</h6>
                                    <p class="small text-muted mb-0">Страница доступна только определенным пользователям</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="reason-item d-flex align-items-start p-3 border rounded">
                                <i class="fas fa-clock text-secondary me-3 mt-1"></i>
                                <div>
                                    <h6>Время сессии истекло</h6>
                                    <p class="small text-muted mb-0">Войдите в систему снова</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Кнопки действий -->
                <div class="error-actions">
                    <div class="row g-3 justify-content-center">
                        {% if user.is_authenticated %}
                        <div class="col-auto">
                            <a href="{% url 'post-list' %}" class="btn btn-primary btn-lg">
                                <i class="fas fa-home me-2"></i>На главную
                            </a>
                        </div>
                        <div class="col-auto">
                            <a href="{% url 'profile' %}" class="btn btn-outline-primary btn-lg">
                                <i class="fas fa-user me-2"></i>Мой профиль
                            </a>
                        </div>
                        <div class="col-auto">
                            <form method="post" action="{% url 'logout' %}" class="d-inline">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-outline-danger btn-lg">
                                    <i class="fas fa-sign-out-alt me-2"></i>Выйти
                                </button>
                            </form>
                        </div>
                        {% else %}
                        <div class="col-auto">
                            <a href="{% url 'auth' %}" class="btn btn-primary btn-lg">
                                <i class="fas fa-sign-in-alt me-2"></i>Войти
                            </a>
                        </div>
                        <div class="col-auto">
                            <a href="{% url 'registration' %}" class="btn btn-success btn-lg">
                                <i class="fas fa-user-plus me-2"></i>Зарегистрироваться
                            </a>
                        </div>
                        <div class="col-auto">
                            <a href="{% url 'post-list' %}" class="btn btn-outline-secondary btn-lg">
                                <i class="fas fa-home me-2"></i>На главную
                            </a>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.error-illustration {
    animation: shake 2s infinite;
}

@keyframes shake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-5deg); }
    75% { transform: rotate(5deg); }
}

.reason-item {
    transition: all 0.3s ease;
    height: 100%;
}

.reason-item:hover {
    transform: translateX(5px);
    border-left: 4px solid #dc3545 !important;
}

@media (max-width: 768px) {
    .display-1 {
        font-size: 5rem;
    }
    
    .error-actions .btn {
        width: 100%;
        margin-bottom: 0.5rem;
    }
}
</style>
{% endblock %}